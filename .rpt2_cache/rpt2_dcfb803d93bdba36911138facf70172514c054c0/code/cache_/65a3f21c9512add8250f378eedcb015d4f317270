{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as React from 'react';\r\nimport { stores, setStore } from './store';\r\nexport default function (Component, contextArgs) {\r\n    return /** @class */ (function (_super) {\r\n        tslib_1.__extends(ConnectionHoc, _super);\r\n        function ConnectionHoc() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.contexts = {};\r\n            return _this;\r\n        }\r\n        ConnectionHoc.prototype.renderContext = function (ctxs, cacheLen) {\r\n            var _this = this;\r\n            var CtxLen = (typeof cacheLen === 'number' && !isNaN(cacheLen)) ? cacheLen : ctxs.length - 1;\r\n            var CtxName = ctxs[CtxLen];\r\n            return (function (ctxname, len) {\r\n                if (ctxname && len >= 0) {\r\n                    if (!stores.data[ctxname]) {\r\n                        throw new Error(\"KV Store:\\n Uncaught ReferenceError: \" + CtxName + \" Context is not defined.\");\r\n                    }\r\n                    var Ctx = stores.data[ctxname];\r\n                    return (React.createElement(Ctx.visitor.ctx.Consumer, { name: ctxname }, function (data) {\r\n                        _this.contexts[CtxName] = data;\r\n                        return _this.renderContext(ctxs, len - 1);\r\n                    }));\r\n                }\r\n                else {\r\n                    if (_this.props.store !== undefined || _this.props.setStore !== undefined) {\r\n                        throw new Error('KV Store:\\n Error: Keyword store and setStore are reserved words. Check your props and replace them with other keys.');\r\n                    }\r\n                    return React.createElement(Component, tslib_1.__assign({ setStore: setStore, store: _this.contexts }, _this.props));\r\n                }\r\n            })(CtxName, CtxLen);\r\n        };\r\n        ConnectionHoc.prototype.render = function () {\r\n            return (React.createElement(React.Fragment, null, this.renderContext(contextArgs.slice(), contextArgs.length)));\r\n        };\r\n        return ConnectionHoc;\r\n    }(React.Component));\r\n}\r\n//# sourceMappingURL=connect.js.map","map":"{\"version\":3,\"file\":\"connect.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/connect.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAO3C,MAAM,CAAC,OAAO,WAAW,SAAoC,EAAE,WAAqB;IAClF;QAAmC,yCAA+B;QAA3D;YAAA,qEA2CN;YA1CC,cAAQ,GAAQ,EAAE,CAAA;;QA0CpB,CAAC;QAxCC,qCAAa,GAAb,UAAc,IAAc,EAAE,QAAgB;YAA9C,iBA6BC;YA5BC,IAAM,MAAM,GAAW,CAAC,OAAO,QAAQ,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;YACvG,IAAM,OAAO,GAAW,IAAI,CAAC,MAAM,CAAC,CAAC;YAErC,OAAO,CAAC,UAAC,OAAe,EAAE,GAAW;gBACnC,IAAI,OAAO,IAAI,GAAG,IAAI,CAAC,EAAE;oBACvB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;wBACzB,MAAM,IAAI,KAAK,CAAC,0CAAwC,OAAO,6BAA0B,CAAC,CAAC;qBAC5F;oBAED,IAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACjC,OAAO,CACL,oBAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAC,IAAI,EAAE,OAAO,IAEnC,UAAC,IAAS;wBACR,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;wBAC9B,OAAO,KAAI,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;oBAC3C,CAAC,CAEsB,CAC5B,CAAC;iBACH;qBAAM;oBACL,IAAI,KAAI,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS,IAAI,KAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,SAAS,EAAE;wBACvE,MAAM,IAAI,KAAK,CAAC,sHAAsH,CAAC,CAAC;qBACzI;oBAED,OAAO,oBAAC,SAAS,qBAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAI,CAAC,QAAQ,IAAM,KAAI,CAAC,KAAK,EAAI,CAAC;iBAChF;YACH,CAAC,CAAC,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACtB,CAAC;QAED,8BAAM,GAAN;YACE,OAAO,CACL,0CAEI,IAAI,CAAC,aAAa,CAAK,WAAW,UAAG,WAAW,CAAC,MAAM,CAAC,CAEzD,CACJ,CAAC;QACJ,CAAC;QACH,oBAAC;IAAD,CAAC,AA3CM,CAA4B,KAAK,CAAC,SAAS,GA2ChD;AACJ,CAAC\"}"}
